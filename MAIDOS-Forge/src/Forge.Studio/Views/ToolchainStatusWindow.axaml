<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Forge.Studio.ViewModels"
        x:Class="Forge.Studio.Views.ToolchainStatusWindow"
        x:DataType="vm:ToolchainStatusViewModel"
        Title="Toolchain Status"
        Width="700" Height="550"
        WindowStartupLocation="CenterOwner"
        Background="#2D3436">

    <Grid RowDefinitions="Auto,*,Auto">
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#1E272E" Padding="24,16">
            <Grid ColumnDefinitions="*,Auto">
                <StackPanel Grid.Column="0" Spacing="4">
                    <TextBlock Text="Toolchain Status" FontSize="20" FontWeight="Bold" 
                               Foreground="#FF6B35" />
                    <TextBlock Text="{Binding StatusSummary}" Foreground="#B2BEC3" FontSize="12" />
                </StackPanel>
                <Button Grid.Column="1" Content="âŸ³ Refresh All" 
                        Command="{Binding RefreshCommand}"
                        Padding="16,8" IsEnabled="{Binding !IsChecking}" />
            </Grid>
        </Border>
        
        <!-- Toolchain List -->
        <ScrollViewer Grid.Row="1" Padding="24,16">
            <ItemsControl ItemsSource="{Binding Toolchains}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="#1E272E" CornerRadius="8" Padding="16" Margin="0,0,0,8">
                            <Grid ColumnDefinitions="Auto,*,Auto,Auto">
                                
                                <!-- Status Icon -->
                                <Border Grid.Column="0" Width="40" Height="40" 
                                        CornerRadius="20" Background="{Binding StatusBackground}"
                                        Margin="0,0,16,0">
                                    <TextBlock Text="{Binding StatusIcon}" FontSize="18"
                                               HorizontalAlignment="Center" 
                                               VerticalAlignment="Center" />
                                </Border>
                                
                                <!-- Info -->
                                <StackPanel Grid.Column="1" Spacing="2">
                                    <StackPanel Orientation="Horizontal" Spacing="8">
                                        <TextBlock Text="{Binding Name}" FontSize="14"
                                                   FontWeight="SemiBold" Foreground="#DFE6E9" />
                                        <TextBlock Text="{Binding Command}" FontSize="12"
                                                   Foreground="#636E72" VerticalAlignment="Center"
                                                   FontFamily="Consolas,Monaco,monospace" />
                                    </StackPanel>
                                    <TextBlock Text="{Binding Version}" Foreground="#B2BEC3" 
                                               FontSize="12" />
                                    <TextBlock Text="{Binding Path}" Foreground="#636E72" 
                                               FontSize="10" FontFamily="Consolas,Monaco,monospace" />
                                </StackPanel>
                                
                                <!-- Languages -->
                                <StackPanel Grid.Column="2" Margin="16,0">
                                    <TextBlock Text="Used by:" Foreground="#636E72" FontSize="10" />
                                    <TextBlock Text="{Binding Languages}" Foreground="#00B894" 
                                               FontSize="11" />
                                </StackPanel>
                                
                                <!-- Status Badge -->
                                <Border Grid.Column="3" Background="{Binding StatusColor}"
                                        CornerRadius="4" Padding="12,6" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding StatusText}" FontSize="11"
                                               Foreground="White" FontWeight="SemiBold" />
                                </Border>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
        
        <!-- Footer -->
        <Border Grid.Row="2" Background="#1E272E" Padding="24,12">
            <Grid ColumnDefinitions="*,Auto">
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
                    <ProgressBar IsIndeterminate="True" Width="100" Height="4"
                                 IsVisible="{Binding IsChecking}" />
                    <TextBlock Text="{Binding CheckingMessage}" Foreground="#B2BEC3"
                               VerticalAlignment="Center" IsVisible="{Binding IsChecking}" />
                </StackPanel>
                <Button Grid.Column="1" Content="Close" Command="{Binding CloseCommand}"
                        Padding="16,8" />
            </Grid>
        </Border>
    </Grid>
</Window>
